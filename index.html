<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Plasma Editor</title>

  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #0b0b0b;
      color: #fff;
      overflow: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    #editor-container {
      height: 100vh;
      width: 100vw;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  </style>
</head>
<body>
  <div id="editor-container"></div>

  <!-- Monaco loader -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/loader.js"></script>
  <script>
    require.config({ paths: { 'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs' } });

    require(['vs/editor/editor.main'], function () {
      // Custom theme: dark background, white text
      monaco.editor.defineTheme('plasmaDark', {
        base: 'vs-dark',
        inherit: true,
        rules: [],
        colors: {
          'editor.background': '#0b0b0b',
          'editor.foreground': '#ffffff',
          'editorLineNumber.foreground': '#5b5b5b',
          'editorLineNumber.activeForeground': '#cfcfcf',
          'editorCursor.foreground': '#ffffff',
          'editor.selectionBackground': '#3a3d41',
          'editor.inactiveSelectionBackground': '#2a2a2a'
        }
      });

      // Create the editor
      const editor = monaco.editor.create(document.getElementById('editor-container'), {
        value: 'Welcome to SharpieX!',
        language: 'plaintext',
        theme: 'plasmaDark',
        automaticLayout: true,
        fontFamily: 'Consolas, "Courier New", monospace',
        fontSize: 16,
        minimap: { enabled: false },
        wordWrap: 'on',
        scrollBeyondLastLine: false,
        smoothScrolling: true
      });

      // Optional: Ctrl+S to download contents
      window.addEventListener('keydown', function(e) {
        if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 's') {
          e.preventDefault();
          const content = editor.getValue();
          const blob = new Blob([content], {type: 'text/plain;charset=utf-8'});
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'plasma.txt';
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(url);
        }
      });
    });
  </script>
</body>
</html>

